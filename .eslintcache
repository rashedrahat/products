[{"/home/user/projects/personal/react/products/src/reportWebVitals.js":"1","/home/user/projects/personal/react/products/src/App.js":"2","/home/user/projects/personal/react/products/src/components/PublicRoute.js":"3","/home/user/projects/personal/react/products/src/components/PrivateRoute.js":"4","/home/user/projects/personal/react/products/src/components/private/index.js":"5","/home/user/projects/personal/react/products/src/components/private/AddProduct.js":"6","/home/user/projects/personal/react/products/src/components/layout/Navbar.js":"7","/home/user/projects/personal/react/products/src/components/public/Login.js":"8","/home/user/projects/personal/react/products/src/components/public/Register.js":"9","/home/user/projects/personal/react/products/src/components/private/Products.js":"10","/home/user/projects/personal/react/products/src/components/private/EditProduct.js":"11","/home/user/projects/personal/react/products/src/index.js":"12","/home/user/projects/personal/react/products/src/components/private/Product.js":"13","/home/user/projects/personal/react/products/src/routes.js":"14"},{"size":362,"mtime":1608299338001,"results":"15","hashOfConfig":"16"},{"size":1343,"mtime":1608449219909,"results":"17","hashOfConfig":"16"},{"size":472,"mtime":1608464712272,"results":"18","hashOfConfig":"16"},{"size":471,"mtime":1608465016099,"results":"19","hashOfConfig":"16"},{"size":316,"mtime":1608449219917,"results":"20","hashOfConfig":"16"},{"size":6664,"mtime":1608475068371,"results":"21","hashOfConfig":"16"},{"size":3854,"mtime":1608466549105,"results":"22","hashOfConfig":"16"},{"size":4324,"mtime":1608447278378,"results":"23","hashOfConfig":"16"},{"size":4781,"mtime":1608446965802,"results":"24","hashOfConfig":"16"},{"size":8164,"mtime":1608478247784,"results":"25","hashOfConfig":"16"},{"size":8885,"mtime":1608476189913,"results":"26","hashOfConfig":"16"},{"size":715,"mtime":1608443747995,"results":"27","hashOfConfig":"16"},{"size":3646,"mtime":1608475177992,"results":"28","hashOfConfig":"16"},{"size":221,"mtime":1608447665368,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"1crvdjj",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"32"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"32"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/user/projects/personal/react/products/src/reportWebVitals.js",[],["62","63"],"/home/user/projects/personal/react/products/src/App.js",[],["64","65"],"/home/user/projects/personal/react/products/src/components/PublicRoute.js",[],"/home/user/projects/personal/react/products/src/components/PrivateRoute.js",[],"/home/user/projects/personal/react/products/src/components/private/index.js",[],"/home/user/projects/personal/react/products/src/components/private/AddProduct.js",["66"],"import React from 'react';\nimport Navbar from \"../layout/Navbar\";\nimport axios from \"axios\";\nimport $ from \"jquery\";\nimport {withSnackbar} from 'notistack';\n\nclass AddProduct extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data_to_post: {\n                title: '',\n                description: '',\n                price: '',\n            },\n            imagePreviewUrl: ''\n        };\n\n        this.fileInput = React.createRef();\n    }\n\n    handleSuccess(msg) {\n        this.key = this.props.enqueueSnackbar(msg, {\n            variant: 'success',\n            autoHideDuration: 2000,\n        });\n    }\n\n    handleError(msg) {\n        this.key = this.props.enqueueSnackbar(msg, {\n            variant: 'error',\n            autoHideDuration: 2000,\n        });\n    }\n\n    formSubmitHandler = (e) => {\n        e.preventDefault();\n        // console.log(this.state.data_to_post);\n        const headers = {\n            'Content-Type': 'multipart/form-data',\n        };\n\n        let form_data = new FormData();\n        form_data.append('title', this.state.data_to_post.title);\n        form_data.append('description', this.state.data_to_post.description);\n        form_data.append('price', this.state.data_to_post.price);\n        form_data.append('image', this.fileInput.current.files[0]);\n\n        const token = localStorage.getItem(\"userAuthToken\");\n\n        axios.post(process.env.REACT_APP_API_ENDPOINT + 'products?token=' + token, form_data, {headers: headers}).then(response => {\n            console.log(response);\n            if (response.status === 200 && response.data.success) {\n                this.props.history.push('/products');\n                this.handleSuccess(response.data.message);\n            }\n        }).catch(error => {\n            if (error.response) {\n                console.log(error.response)\n                switch (error.response.status) {\n                    case 400:\n                        // console.log(error.response.data.error)\n                        const errors = error.response.data.error;\n                        for (const property in errors) {\n                            // console.log(`${property}: ${errors[property]}`);\n                            $('#' + property + \"-val-err-msg\").text(errors[property])\n                        }\n                        break;\n                    default:\n                        this.handleError('Something went wrong');\n                }\n            }\n        });\n    };\n\n    inputChangeHandler = (e) => {\n        $('#' + e.target.name + \"-val-err-msg\").text('')\n        let obj = this.state.data_to_post;\n        obj[e.target.name] = e.target.value;\n        this.setState({data_to_post: obj});\n    };\n\n    filePreviewHandler = (e) => {\n        $('#' + e.target.name + \"-val-err-msg\").text('')\n        e.preventDefault();\n\n        let reader = new FileReader();\n        let file = e.target.files[0];\n\n        reader.onloadend = () => {\n            this.setState({\n                imagePreviewUrl: reader.result\n            });\n        }\n\n        reader.readAsDataURL(file)\n    };\n\n    render() {\n        return (\n            <div>\n                <Navbar/>\n                <div className=\"container\">\n                    <div className=\"w-75 mx-auto shadow p-5\">\n                        <h2 className=\"text-center mb-4\">Add a Product</h2>\n                        <form onSubmit={this.formSubmitHandler}>\n                            <div className=\"form-group\">\n                                <input\n                                    type=\"text\"\n                                    className=\"form-control form-control-lg\"\n                                    placeholder=\"Enter Title\"\n                                    name=\"title\" value={this.state.data_to_post.title}\n                                    onChange={this.inputChangeHandler} required\n                                />\n                                <small className=\"text-danger\" id=\"title-val-err-msg\"></small>\n                            </div>\n                            <div className=\"form-group\">\n                                <textarea\n                                    className=\"form-control form-control-lg\"\n                                    placeholder=\"Write something about this product...\"\n                                    name=\"description\" onChange={this.inputChangeHandler} value={this.state.data_to_post.description}\n                                    required></textarea>\n                                <small className=\"text-danger\" id=\"description-val-err-msg\"></small>\n                            </div>\n                            <div className=\"form-group\">\n                                <input\n                                    type=\"number\" min={1}\n                                    className=\"form-control form-control-lg\"\n                                    placeholder=\"Enter Price\" value={this.state.data_to_post.price}\n                                    name=\"price\" onChange={this.inputChangeHandler} required\n                                />\n                                <small className=\"text-danger\" id=\"price-val-err-msg\"></small>\n                            </div>\n                            <div className=\"form-group\">\n                                <div className=\"custom-file\">\n                                    <input type=\"file\" name=\"image\"\n                                           className=\"form-control form-control-lg custom-file-input\"\n                                           ref={this.fileInput} onChange={this.filePreviewHandler} required/>\n                                    <label className=\"custom-file-label\">Choose file</label>\n                                </div>\n                                <small className=\"text-danger\" id=\"image-val-err-msg\"></small>\n                            </div>\n                            <div align=\"center\" style={this.state.imagePreviewUrl ? {display: 'block'} : {display: 'none'}} className=\"mb-3\">\n                                <img\n                                    src={this.state.imagePreviewUrl}\n                                    className=\"img-thumbnail img-fluid\" style={{\n                                    maxWidth: '33%',\n                                    height: 'auto'\n                                }}/>\n                            </div>\n                            <button className=\"btn btn-primary btn-block\" type='submit'>Add</button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withSnackbar(AddProduct)\n","/home/user/projects/personal/react/products/src/components/layout/Navbar.js",[],"/home/user/projects/personal/react/products/src/components/public/Login.js",[],"/home/user/projects/personal/react/products/src/components/public/Register.js",[],"/home/user/projects/personal/react/products/src/components/private/Products.js",[],"/home/user/projects/personal/react/products/src/components/private/EditProduct.js",["67"],"import React from 'react';\nimport Navbar from \"../layout/Navbar\";\nimport axios from \"axios\";\nimport $ from \"jquery\";\nimport {withSnackbar} from 'notistack';\n\nclass EditProduct extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data_to_post: {\n                title: '',\n                description: '',\n                price: '',\n            },\n            imagePreviewUrl: ''\n        };\n\n        this.fileInput = React.createRef();\n    }\n\n    handleSuccess(msg) {\n        this.key = this.props.enqueueSnackbar(msg, {\n            variant: 'success',\n            autoHideDuration: 2000,\n        });\n    }\n\n    handleError(msg) {\n        this.key = this.props.enqueueSnackbar(msg, {\n            variant: 'error',\n            autoHideDuration: 2000,\n        });\n    }\n\n    componentDidMount() {\n        const token = localStorage.getItem(\"userAuthToken\");\n        axios.get(process.env.REACT_APP_API_ENDPOINT + 'products/' + this.props.match.params.id + '?token=' + token).then(response => {\n            // console.log(response);\n            if (response.status === 200 && response.data.success) {\n                console.log(response.data.data)\n                const productInfo = response.data.data;\n                let obj = this.state.data_to_post;\n                obj['title'] = productInfo.title;\n                obj['price'] = productInfo.price;\n                obj['description'] = productInfo.description;\n                const imgAPIEndpoint = process.env.REACT_APP_IMAGE_ENDPOINT ? process.env.REACT_APP_IMAGE_ENDPOINT : 'http://127.0.0.1:8000/storage/images/'\n                this.setState({data_to_post: obj, imagePreviewUrl: imgAPIEndpoint + productInfo.image_name});\n            }\n        }).catch(error => {\n            if (error.response) {\n                console.log(error.response)\n                const errorMsg = error.response.data.error;\n                switch (error.response.status) {\n                    case 400:\n                        if (errorMsg === 'token_not_provided') {\n                            localStorage.clear();\n                            this.props.history.push('/login')\n                        } else {\n                            this.handleError(error.response.data.message);\n                            this.props.history.push('/products')\n                        }\n                        break;\n                    case 401:\n                        if (errorMsg === 'token_expired')\n                            localStorage.clear();\n                        this.props.history.push('/login')\n                        break;\n                    default:\n                        this.handleError('Something went wrong');\n                }\n            }\n        });\n    }\n\n    formSubmitHandler = (e) => {\n        e.preventDefault();\n        // console.log(this.state.data_to_post);\n        const headers = {\n            'Content-Type': 'multipart/form-data',\n        };\n\n        let form_data = new FormData();\n        form_data.append('title', this.state.data_to_post.title);\n        form_data.append('description', this.state.data_to_post.description);\n        form_data.append('price', this.state.data_to_post.price);\n        form_data.append('image', this.fileInput.current.files[0]);\n        form_data.append('_method', 'PUT');\n\n        const token = localStorage.getItem(\"userAuthToken\");\n\n        axios.post(process.env.REACT_APP_API_ENDPOINT + 'products/' + this.props.match.params.id + '?token=' + token, form_data, {headers: headers}).then(response => {\n            console.log(response);\n            if (response.status === 200 && response.data.success) {\n                this.props.history.push('/products');\n                this.handleSuccess(response.data.message);\n            }\n        }).catch(error => {\n            if (error.response) {\n                console.log(error.response)\n                switch (error.response.status) {\n                    case 400:\n                        // console.log(error.response.data.error)\n                        const errors = error.response.data.error;\n                        for (const property in errors) {\n                            // console.log(`${property}: ${errors[property]}`);\n                            $('#' + property + \"-val-err-msg\").text(errors[property])\n                        }\n                        break;\n                    default:\n                        this.handleError('Something went wrong');\n                }\n            }\n        });\n    };\n\n    inputChangeHandler = (e) => {\n        $('#' + e.target.name + \"-val-err-msg\").text('')\n        let obj = this.state.data_to_post;\n        obj[e.target.name] = e.target.value;\n        this.setState({data_to_post: obj});\n    };\n\n    filePreviewHandler = (e) => {\n        $('#' + e.target.name + \"-val-err-msg\").text('')\n        e.preventDefault();\n\n        let reader = new FileReader();\n        let file = e.target.files[0];\n\n        reader.onloadend = () => {\n            this.setState({\n                imagePreviewUrl: reader.result\n            });\n        }\n\n        reader.readAsDataURL(file)\n    };\n\n    render() {\n        return (\n            <div>\n                <Navbar/>\n                <div className=\"container\">\n                    <div className=\"w-75 mx-auto shadow p-5\">\n                        <h2 className=\"text-center mb-4\">Edit the Product</h2>\n                        <form onSubmit={this.formSubmitHandler}>\n                            <div className=\"form-group\">\n                                <input\n                                    type=\"text\"\n                                    className=\"form-control form-control-lg\"\n                                    placeholder=\"Enter Title\"\n                                    name=\"title\" value={this.state.data_to_post.title}\n                                    onChange={this.inputChangeHandler} required\n                                />\n                                <small className=\"text-danger\" id=\"title-val-err-msg\"></small>\n                            </div>\n                            <div className=\"form-group\">\n                                <textarea\n                                    className=\"form-control form-control-lg\"\n                                    placeholder=\"Write something about this product...\"\n                                    name=\"description\" onChange={this.inputChangeHandler}\n                                    value={this.state.data_to_post.description}\n                                    required></textarea>\n                                <small className=\"text-danger\" id=\"description-val-err-msg\"></small>\n                            </div>\n                            <div className=\"form-group\">\n                                <input\n                                    type=\"number\" min={1}\n                                    className=\"form-control form-control-lg\"\n                                    placeholder=\"Enter Price\" value={this.state.data_to_post.price}\n                                    name=\"price\" onChange={this.inputChangeHandler} required\n                                />\n                                <small className=\"text-danger\" id=\"price-val-err-msg\"></small>\n                            </div>\n                            <div className=\"form-group\">\n                                <div className=\"custom-file\">\n                                    <input type=\"file\" name=\"image\"\n                                           className=\"form-control form-control-lg custom-file-input\"\n                                           ref={this.fileInput} onChange={this.filePreviewHandler}/>\n                                    <label className=\"custom-file-label\">Choose file <small>(Leave blank if not want to\n                                        change)</small></label>\n                                </div>\n                                <small className=\"text-danger\" id=\"image-val-err-msg\"></small>\n                            </div>\n                            <div align=\"center\"\n                                 style={this.state.imagePreviewUrl ? {display: 'block'} : {display: 'none'}}\n                                 className=\"mb-3\">\n                                <img\n                                    src={this.state.imagePreviewUrl}\n                                    className=\"img-thumbnail img-fluid\" style={{\n                                    maxWidth: '33%',\n                                    height: 'auto'\n                                }}/>\n                            </div>\n                            <button className=\"btn btn-primary btn-block\" type='submit'>Edit</button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withSnackbar(EditProduct)\n","/home/user/projects/personal/react/products/src/index.js",[],"/home/user/projects/personal/react/products/src/components/private/Product.js",[],"/home/user/projects/personal/react/products/src/routes.js",[],{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","replacedBy":"71"},{"ruleId":"68","replacedBy":"72"},{"ruleId":"70","replacedBy":"73"},{"ruleId":"74","severity":1,"message":"75","line":144,"column":33,"nodeType":"76","endLine":149,"endColumn":37},{"ruleId":"74","severity":1,"message":"75","line":189,"column":33,"nodeType":"76","endLine":194,"endColumn":37},"no-native-reassign",["77"],"no-negated-in-lhs",["78"],["77"],["78"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-global-assign","no-unsafe-negation"]